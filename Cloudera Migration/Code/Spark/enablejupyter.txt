sudo apt-get install make
sudo apt-get install libbz2-dev
sudo apt-get install liblzma-dev
sudo apt-get install -y libkrb5-dev


wget https://www.python.org/ftp/python/3.6.3/Python-3.6.3.tgz
tar -xvf Python-3.6.3.tgz
cd Python-3.6.3
sudo ./configure --enable-loadable-sqlite-extensions --enable-optimizations
# sudo ./configure --enable-optimizations
sudo make -j8
sudo make install
sudo ln -sf /usr/local/bin/python3 /usr/bin/python

sudo pip3 install --upgrade pip

sudo apt-get -y install ipython3 ipython3-notebook
sudo pip3 install jupyter
sudo pip3 install sparksql-magic
sudo pip3 install sparkmagic

sudo jupyter nbextension enable --py --sys-prefix widgetsnbextension
sudo jupyter serverextension enable --py sparkmagic

sudo jupyter-kernelspec install /usr/local/lib/python3.6/site-packages/sparkmagic/kernels/sparkkernel
sudo jupyter-kernelspec install /usr/local/lib/python3.6/site-packages/sparkmagic/kernels/pysparkkernel
sudo jupyter-kernelspec install /usr/local/lib/python3.6/site-packages/sparkmagic/kernels/wrapperkernel
sudo jupyter-kernelspec install /usr/local/lib/python3.6/site-packages/sparkmagic/kernels/sparkrkernel

#sudo apt-get install libsqlite3-dev
#sudo pip3 install pysqlite3


#sudo cp /usr/lib/python3/dist-packages/_bz2.cpython-38-x86_64-linux-gnu.so  /usr/local/lib/python3.6/



jupyter notebook --generate-config

#jupyter notebook --no-browser &

export PYSPARK_DRIVER_PYTHON="jupyter"
export PYSPARK_DRIVER_PYTHON_OPTS="notebook"
export PYSPARK_PYTHON=python3

pyspark2 --driver-cores 2 --executor-memory 512m





#sudo add-apt-repository ppa:webupd8team/java
#sudo apt-get install oracle-java8-installer
#sudo apt-get install oracle-java8-set-default

#export JAVA_HOME=/usr/lib/jvm/java-8-oracle
#export JRE_HOME=/usr/lib/jvm/java-8-oracle/jre

#export SPARK_HOME='/opt/cloudera/parcels/SPARK2-2.4.0.cloudera2-1.cdh5.13.3.p0.1041012/lib/spark2'
#export PYTHONPATH=$SPARK_HOME/python:$PYTHONPATH


#export PATH=$SPARK_HOME:$PATH:~/.local/bin:$JAVA_HOME/bin:$JAVA_HOME/jre/bin



#sudo apt-get install scala

#sudo pip3 install py4j

#jupyter notebook --no-browser &

p


